<div id="controls">
  <a id="controlsVolume" title="Adjust volume"><img src="assets/img/volume.svg"></a>

  <div id="volumeSliderContainer">
    <button id="mixer" title="Volume mixer"><i class="fas fa-sliders-h"></i></button>
    <input id="volumeSlider" title="Volume" type="range" min="0" max="1" step="0.01" value="0.3"></input>
    <div id="mixerContainer" class="volumeHide" style="display: flex; flex-direction: row-reverse;">
      <div style="display: grid;">
        <i class="fas fa-music" style="color: white; transform: rotate(90deg);"></i>
        <i class="fas fa-caret-square-down" style="color: white; transform: rotate(90deg);"></i>
      </div>
      
      <div style="display: grid;">
        <input id="musicSlider" title="Music Volume" type="range" min="0" max="1" step="0.01" value="0.3"></input>
        <input id="hitsoundSlider" title="Hitsound Volume" type="range" min="0" max="1" step="0.01" value="0.3"></input>
      </div>
    </div>
  </div>

  <div>
    <label>
      <div class="btn play" id="controlsPause" title="Play/Pause">
        <span class="bar bar-1"></span>
        <span class="bar bar-2"></span>
        <span class="bar bar-3"></span>
      </div>
    </label>
  </div>

  <div id="timeline">
    <div id="timelineLine">
      <div id="playhead"></div>
    </div>
    <p id="timelineHover"></p>
  </div>

  <p id="songTime">
    <span id="songProgress">0:00</span>
    /
    <span id="songDuration">-:--</span>
  </p>

  <div id="speedSliderContainer">
    <div id="rangeTicks">
      <svg role="presentation" class="rangeSVG" height="8" width="100" xmlns="http://www.w3.org/2000/svg">
        <rect class="range__tick" x="0%" y="3" width="1" height="10"></rect>
        <rect class="range__tick" x="25%" y="3" width="1" height="10"></rect>
        <rect class="range__tick" x="50%" y="3" width="1" height="10"></rect>
        <rect class="range__tick" x="75%" y="3" width="1" height="10"></rect>
        <rect class="range__tick" x="100%" y="3" width="1" height="10"></rect>
      </svg>
    </div>
    <input id="speedSlider" title="Replay speed" type="range" min="0" max="2" step="0.01" oninput="this.style.setProperty('--value',this.value)"; ></input>

    <div id="rangePoints">
      <svg role="presentation" class="rangePointsSvg" height="8" width="112" xmlns="http://www.w3.org/2000/svg">
        <text class="range__point" x="0%" y="8" text-anchor="start">  0  </text>
        <text class="range__point" x="25%" y="8" text-anchor="middle">  0.5</text>
        <text class="range__point" x="50%" y="8" text-anchor="middle">  1  </text>
        <text class="range__point" x="75%" y="8" text-anchor="middle">1.5  </text>
        <text class="range__point" x="100%" y="8" text-anchor="end">  2  </text>
      </svg>
    </div>
  </div>

  <p id="songSpeed">
    <span id="songSpeedPercent">1x</span>
  </p>

  <p id="skipIntro" style="display: none;">Skip intro</p>

  <a id="controlsCamera" title="Camera position"><img src="assets/img/camera.png"></a>

  <div id="cameraSettingsContainer">
    <div>
      <div class="settingHeader">First person camera</div>
      <div class="toggleButton" title="First person camera field of view">
        <label>
          <div>
            <label class="toggleButtonLabel" style="margin-left: 5px;"><td><nobr>Field of view:</nobr></td></label>
            <label id="fovLabel" class="toggleButtonLabel" style="margin-left: 33px;">60°</label>
          </div>
          <input id="fov" type="range" min="30" max="150" step="1" value="60">
        </label>
      </div>
      <div class="toggleButton" title="Rotate camera higher or lower on X axis">
        <label>
          <div>
            <label class="toggleButtonLabel" style="margin-left: 5px;"><td><nobr>X rotation offset:</nobr></td></label>
            <label id="cameraXRotationLabel" class="toggleButtonLabel" style="margin-left: 51px;">0°</label>
          </div>
          <input id="cameraXRotation" type="range" min="-100" max="100" step="1" value="0">
        </label>
      </div>
      <div class="toggleButton" title="How far back would be camera relative to the player.">
        <label>
          <div>
            <label class="toggleButtonLabel" style="margin-left: 5px;"><td><nobr>Z position offset:</nobr></td></label>
            <label id="cameraZPositionLabel" class="toggleButtonLabel" style="margin-left: 51px;">1m</label>
          </div>
          <input id="cameraZPosition" type="range" min="-5" max="5" step="0.1" value="1">
        </label>
      </div>
      <div class="settingHeader">Main camera</div>
      <div id="cameraPositionContainer">
        <button id="cameraToLeft" title='Select left camera'>< left</button>
        <button id="cameraToCenter" title='Select center(default) camera'>center</button>
        <button id="cameraToRight" title='Select right camera'>right ></button>
      </div>
      <div id="cameraSaveContainer">
        <button id="cameraSave" title='Save current camera position and rotation'>Save</button>
        <button id="cameraRestore" title='Restore saved camera position and rotation'>Restore</button>
      </div>
      <div class="toggleButton" title="Use saved camera location and rotation as default on start.">
        <label class="switch">
          <input type="checkbox" id="savedCameraDefault">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel"><td><nobr>Saved camera as default</nobr></td></label>
      </div>
    </div>
    <div>
      <div class="settingHeader">Orthographic camera</div>
      <div class="toggleButton" title="Show back orthographic camera.">
        <label class="switch">
          <input type="checkbox" id="orthographicBackEnabled">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel"><td><nobr>Back camera</nobr></td></label>
      </div>
      <div class="toggleButton" title="How far away from player camera would be">
        <label>
          <div>
            <label class="toggleButtonLabel" style="margin-left: 5px;"><td><nobr>Viewport:</nobr></td></label>
            <label id="orthographicBackFrustumLabel" class="toggleButtonLabel" style="margin-left: 15px;">1.8</label>
          </div>
          <input id="orthographicBackFrustum" type="range" min="0.5" max="5" step="0.01" value="1.8">
        </label>
      </div>
      <div class="toggleButton" title="Show right orthographic camera.">
        <label class="switch">
          <input type="checkbox" id="orthographicRightEnabled">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel"><td><nobr>Right camera</nobr></td></label>
      </div>
      <div class="toggleButton" title="How far away from player camera would be">
        <label>
          <div>
            <label class="toggleButtonLabel" style="margin-left: 5px;"><td><nobr>Viewport:</nobr></td></label>
            <label id="orthographicRightFrustumLabel" class="toggleButtonLabel" style="margin-left: 15px;">1.8</label>
          </div>
          <input id="orthographicRightFrustum" type="range" min="0.5" max="5" step="0.01" value="1.8">
        </label>
      </div>
      <div class="toggleButton" title="Show top orthographic camera.">
        <label class="switch">
          <input type="checkbox" id="orthographicTopEnabled">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel"><td><nobr>Top camera</nobr></td></label>
      </div>
      <div class="toggleButton" title="How far away from player camera would be">
        <label>
          <div>
            <label class="toggleButtonLabel" style="margin-left: 5px;"><td><nobr>Viewport:</nobr></td></label>
            <label id="orthographicTopFrustumLabel" class="toggleButtonLabel" style="margin-left: 15px;">1.8</label>
          </div>
          <input id="orthographicTopFrustum" type="range" min="0.5" max="5" step="0.01" value="1.8">
        </label>
      </div>
    </div>
  </div>

  <a id="controlsFullscreen" title="Enter fullscreen (f)">
    <svg class="enterFullscreen" width="100%" height="100%" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">
      <g><path d="M7 3H2v5h2V5h3V3zM18 8V3h-5v2h3v3h2zM13 17v-2h3v-3h2v5h-5zM4 12H2v5h5v-2H4v-3z"></path></g>
    </svg>
    <svg class="exitFullscreen" width="100%" height="100%" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">
      <g><path d="M8 8V3H6v3H2v2h6zM12 8h6V6h-4V3h-2v5zM12 17v-5h6v2h-4v3h-2zM8 12H2v2h4v3h2v-5z"></path></g>
    </svg>
  </a>

  <a id="controlsSettings" title="Settings"><img src="assets/img/settings.png"></a>

  <div id="settingsContainer">

    <div class="toggleButtons" style="display: flex; flex-direction: column; justify-content: space-between;">
      <div class="toggleButton" title="Show 3D model of headset synced with replay.">
        <label class="switch">
          <input type="checkbox" id="showHeadset">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel"><td><nobr>Show headset</nobr></td></label>
      </div>

      <div class="toggleButton" title="Will play hitsound only when note is actually cut.">
        <label class="switch">
          <input type="checkbox" id="realHitsounds">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel"><td><nobr>Real hitsounds</nobr></td></label>
      </div>

      <div class="toggleButton" title="Will add color highlight for all missed notes, walls and bombs.">
        <label class="switch">
          <input type="checkbox" id="highlightErrors">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel">
          <td>
            <nobr>Highlight errors</nobr>
          </td>
        </label>
      </div>

      <div class="toggleButton" title="Different note score color based on score value.">
        <label class="switch">
          <input type="checkbox" id="colorScores">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel"><td><nobr>Color scores</nobr></td></label>
      </div>

      <div class="toggleButton" title="Disable parts of notes flying off.">
        <label class="switch">
          <input type="checkbox" id="reducedDebris">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel">
          <td>
            <nobr>Reduced debris</nobr>
          </td>
        </label>
      </div>

      <div class="toggleButton" title="Disable lasers, sparks, etc.">
        <label class="switch">
          <input type="checkbox" id="noEffects">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel">
          <td>
            <nobr>No effects</nobr>
          </td>
        </label>
      </div>

      <div class="toggleButton" title="Show collision boxes for notes and walls.">
        <label class="switch">
          <input type="checkbox" id="showHitboxes">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel">
          <td>
            <nobr>Show hitboxes</nobr>
          </td>
        </label>
      </div>

      <div class="toggleButton" title="Show fps counter for viewer and replay.">
        <label class="switch">
          <input type="checkbox" id="showFps">
          <span class="slider round"></span>
        </label>
        <label class="toggleButtonLabel">
          <td>
            <nobr>Show fps</nobr>
          </td>
        </label>
      </div>

    </div>

    <div class="sliders" style="display: flex; flex-direction: column; justify-content: space-between;">

      <div class="toggleButton" title="Distance from player to note slowdown.">
        <label>
          <div style="height: .9em">
            <label class="toggleButtonLabel" style="margin-left: 5px;"><td><nobr>Jump Distance:</nobr></td></label>
            <label id="jdLabel" class="toggleButtonLabel" style="margin-left: 40px;">18</label>
          </div>
          <div style="height: 0; margin-left: 13px;">
            <svg role="presentation" class="jdRangePoint" height="30" width="100" xmlns="http://www.w3.org/2000/svg">
              <rect id="jdTick" class="jd__tick" x="33%" y="0" width="1" height="10"></rect>
            </svg>
          </div>
          <input id="jd" type="range" min="5" max="50" step="0.2" value="18">
          <div style="height: 10px; margin-left: 13px;">
            <svg role="presentation" class="rangePointsSvg" height="30" width="120" xmlns="http://www.w3.org/2000/svg">
              <text id="jdPoint" class="jd__point" x="33%" y="8" text-anchor="start">0</text>
            </svg>
          </div>
        </label>
      </div>

      <div class="toggleButton" title="How wide sabers would be compared to normal.">
        <label>
          <div style="height: .9em">
            <label class="toggleButtonLabel" style="margin-left: 5px;"><td><nobr>Saber width:</nobr></td></label>
            <label id="saberWidthLabel" class="toggleButtonLabel" style="margin-left: 28px;">100</label>
          </div>
          <input id="saberWidth" type="range" min="0" max="200" step="1" value="100">
        </label>
      </div>

      <div class="toggleButton" title="How saber trails will appear">
        <label>
          <div style="height: .9em">
            <label class="toggleButtonLabel" style="margin-left: 5px;"><td><nobr>Trail type:</nobr></td></label>
          </div>
          <select name="trails" style="margin-left: 5px; margin-bottom: 5px; font-size: .7em" id="trailType">
            <option value="bright" selected>Bright</option>
            <option value="dim">Dim</option>
            <option value="timeDependence">Time dependence</option>
            <option value="slim">Slim</option>
          </select>
        </label>
      </div>

      <div class="toggleButton" title="Trail length">
        <label>
          <div style="height: .9em">
            <label class="toggleButtonLabel" style="margin-left: 5px;"><td><nobr>Trail length: </nobr></td></label>
            <label id="trailLengthLabel" class="toggleButtonLabel" style="margin-left: 28px;">20.0</label>
          </div>
          <input id="trailLength" type="range" min="5.0" max="40.0" step="1.0" value="20.0">
        </label>
      </div>

      <div class="toggleButton" title="How many pixels would be rendered for point.">
        <label>
          <div style="height: .9em">
            <label class="toggleButtonLabel" style="margin-left: 5px;"><td><nobr>Pixel ratio:</nobr></td></label>
            <label id="pixelRatioLabel" class="toggleButtonLabel" style="margin-left: 20px;">1.5</label>
          </div>
          <input id="pixelRatio" type="range" min="0.1" max="3" step="0.1" value="1.5">
        </label>
      </div>
    </div>
  </div>
</div>

<div id="ctxMenu">
  <div class="panel-menu" role="menu" style="height: 100px;">
    <div id="copyURL" class="menuitem" role="menuitemcheckbox" aria-checked="false" tabindex="0">
      <div class="menuitem-icon">
        <svg fill="none" height="36" width="36">
          <path d="M5.85 18.0c0.0-2.56 2.08-4.65 4.65-4.65h6.0V10.5H10.5c-4.14 .0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5h6.0v-2.85H10.5c-2.56 .0-4.65-2.08-4.65-4.65zM12.0 19.5h12.0v-3.0H12.0v3.0zm13.5-9.0h-6.0v2.85h6.0c2.56 .0 4.65 2.08 4.65 4.65s-2.08 4.65-4.65 4.65h-6.0V25.5h6.0c4.14 .0 7.5-3.36 7.5-7.5s-3.36-7.5-7.5-7.5z" fill="#fff"></path>
        </svg>
      </div>
      <div class="menuitem-label">Copy URL</div>
      <div class="menuitem-content"><div class="menuitem-toggle-checkbox"></div></div>
    </div>
    <div id="copyURLtime" class="menuitem" role="menuitemcheckbox" aria-checked="false" tabindex="0">
      <div class="menuitem-icon">
        <svg fill="none" height="36" width="36">
          <path d="M5.85 18.0c0.0-2.56 2.08-4.65 4.65-4.65h6.0V10.5H10.5c-4.14 .0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5h6.0v-2.85H10.5c-2.56 .0-4.65-2.08-4.65-4.65zM12.0 19.5h12.0v-3.0H12.0v3.0zm13.5-9.0h-6.0v2.85h6.0c2.56 .0 4.65 2.08 4.65 4.65s-2.08 4.65-4.65 4.65h-6.0V25.5h6.0c4.14 .0 7.5-3.36 7.5-7.5s-3.36-7.5-7.5-7.5z" fill="#fff"></path>
        </svg>
      </div>
      <div class="menuitem-label">Copy URL with time and speed</div>
      <div class="menuitem-content"><div class="menuitem-toggle-checkbox"></div></div>
    </div>
    <!-- <div id="showInspector" class="menuitem" role="menuitemcheckbox" aria-checked="false" tabindex="0">
      <div class="menuitem-icon">
        <svg fill="none" height="36" width="36">
          <path clip-rule="evenodd" d="M20 10V8H17.19C16.74 7.22 16.12 6.54 15.37 6.04L17 4.41L15.59 3L13.42 5.17C13.39 5.16 13.37 5.16 13.34 5.16C13.18 5.12 13.02 5.1 12.85 5.07C12.79 5.06 12.74 5.05 12.68 5.04C12.46 5.02 12.23 5 12 5C11.51 5 11.03 5.07 10.58 5.18L10.6 5.17L8.41 3L7 4.41L8.62 6.04H8.63C7.88 6.54 7.26 7.22 6.81 8H4V10H6.09C6.03 10.33 6 10.66 6 11V12H4V14H6V15C6 15.34 6.04 15.67 6.09 16H4V18H6.81C7.85 19.79 9.78 21 12 21C14.22 21 16.15 19.79 17.19 18H20V16H17.91C17.96 15.67 18 15.34 18 15V14H20V12H18V11C18 10.66 17.96 10.33 17.91 10H20ZM16 15C16 17.21 14.21 19 12 19C9.79 19 8 17.21 8 15V11C8 8.79 9.79 7 12 7C14.21 7 16 8.79 16 11V15ZM10 14H14V16H10V14ZM10 10H14V12H10V10Z" fill="white" fill-rule="evenodd"></path>
        </svg>
      </div>
      <div class="menuitem-label">Show inspector</div>
      <div class="menuitem-content"><div class="menuitem-toggle-checkbox"></div></div>
    </div> -->
  </div>
</div>

<a id="songLink" href="">
  <span id="songInfoOverlay">
    <img id="songImage">
    <span id="songInfo">
      <p id="songName"></p>
      <p id="songSubName"></p>
      <span id="difficultyLabel">
        <p id="songDifficulty"></p>
        <p id="songCustomDifficulty"></p>
      </span>

    </span>
  </span>
</a>

<a id="playerLink" href="">
  <span id="playerInfoOverlay">
    <img id="playerAvatar">
    <span id="playerInfo">
      <p id="playerName"></p>
      <img id="playerCountry">
    </span>
  </span>
</a>

<button id="povswitch" onmousedown="event.preventDefault();" title="First person view"></button>

<a id="orthographicBackFullscreen" class="orthographicFullscreen" style="right: 23%; bottom: 0.5%; display: none;" title="Show fullscreen this camera">
  <svg class="enterFullscreen" width="100%" height="100%" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">
    <g><path d="M7 3H2v5h2V5h3V3zM18 8V3h-5v2h3v3h2zM13 17v-2h3v-3h2v5h-5zM4 12H2v5h5v-2H4v-3z"></path></g>
  </svg>
  <svg class="exitFullscreen" width="100%" height="100%" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">
    <g><path d="M8 8V3H6v3H2v2h6zM12 8h6V6h-4V3h-2v5zM12 17v-5h6v2h-4v3h-2zM8 12H2v2h4v3h2v-5z"></path></g>
  </svg>
</a>

<a id="orthographicRightFullscreen" class="orthographicFullscreen" style="right: 23%; top: 0.5%; display: none;" title="Show fullscreen this camera">
  <svg class="enterFullscreen" width="100%" height="100%" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">
    <g><path d="M7 3H2v5h2V5h3V3zM18 8V3h-5v2h3v3h2zM13 17v-2h3v-3h2v5h-5zM4 12H2v5h5v-2H4v-3z"></path></g>
  </svg>
  <svg class="exitFullscreen" width="100%" height="100%" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">
    <g><path d="M8 8V3H6v3H2v2h6zM12 8h6V6h-4V3h-2v5zM12 17v-5h6v2h-4v3h-2zM8 12H2v2h4v3h2v-5z"></path></g>
  </svg>
</a>

<a id="orthographicTopFullscreen" class="orthographicFullscreen" style="left: 23%; bottom: 0.5%; display: none;" title="Show fullscreen this camera">
  <svg class="enterFullscreen" width="100%" height="100%" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">
    <g><path d="M7 3H2v5h2V5h3V3zM18 8V3h-5v2h3v3h2zM13 17v-2h3v-3h2v5h-5zM4 12H2v5h5v-2H4v-3z"></path></g>
  </svg>
  <svg class="exitFullscreen" width="100%" height="100%" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">
    <g><path d="M8 8V3H6v3H2v2h6zM12 8h6V6h-4V3h-2v5zM12 17v-5h6v2h-4v3h-2zM8 12H2v2h4v3h2v-5z"></path></g>
  </svg>
</a>

<a id="orthographicMainFullscreen" class="orthographicFullscreen" style="left: 23%; top: 0.5%; display: none;" title="Show fullscreen this camera">
  <svg class="enterFullscreen" width="100%" height="100%" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">
    <g><path d="M7 3H2v5h2V5h3V3zM18 8V3h-5v2h3v3h2zM13 17v-2h3v-3h2v5h-5zM4 12H2v5h5v-2H4v-3z"></path></g>
  </svg>
  <svg class="exitFullscreen" width="100%" height="100%" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">
    <g><path d="M8 8V3H6v3H2v2h6zM12 8h6V6h-4V3h-2v5zM12 17v-5h6v2h-4v3h-2zM8 12H2v2h4v3h2v-5z"></path></g>
  </svg>
</a>

<a href="https://github.com/radulov/BeatSaber-Web-Replays" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
